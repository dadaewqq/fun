!function(n){"use strict";var e=null,o=n.WebMIDI={api:"webmidi"};o.send=function(n,o){e.send(n,1e3*o)},o.setController=function(n,o,t,i){e.send([n,o,t],1e3*i)},o.setVolume=function(n,o,t){e.send([176+n,7,o],1e3*t)},o.programChange=function(n,o,t){e.send([192+n,o],1e3*t)},o.pitchBend=function(n,o,t){e.send([224+n,o],1e3*t)},o.noteOn=function(n,o,t,i){e.send([144+n,o,t],1e3*i)},o.noteOff=function(n,o,t){e.send([128+n,o,0],1e3*t)},o.chordOn=function(n,o,t,i){for(var u=0;u<o.length;u++){var c=o[u];e.send([144+n,c,t],1e3*i)}},o.chordOff=function(n,o,t){for(var i=0;i<o.length;i++){var u=o[i];e.send([128+n,u,0],1e3*t)}},o.stopAllNotes=function(){e.cancel();for(var n=0;n<16;n++)e.send([176+n,123,0])},o.connect=function(t){n.setDefaultPlugin(o);var i=function(e){if(window.AudioContext)t.api="webaudio";else{if(!window.Audio)return;t.api="audiotag"}n.loadPlugin(t)};navigator.requestMIDIAccess().then(function(n){var o=n.outputs;void 0===(e="function"==typeof o?o()[0]:o[0])?i():t.onsuccess&&t.onsuccess()},i)}}(MIDI);